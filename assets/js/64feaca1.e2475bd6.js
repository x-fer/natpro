"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2348],{2883:(a,s,e)=>{e.r(s),e.d(s,{assets:()=>m,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var n=e(4848),i=e(8453),t=e(6749);e(9630);const l={title:"Union-find struktura"},r=void 0,c={id:"algoritmi-nad-grafovima-1/union-find-struktura",title:"Union-find struktura",description:"Zadatak",source:"@site/docs/algoritmi-nad-grafovima-1/union-find-struktura.md",sourceDirName:"algoritmi-nad-grafovima-1",slug:"/algoritmi-nad-grafovima-1/union-find-struktura",permalink:"/docs/algoritmi-nad-grafovima-1/union-find-struktura",draft:!1,unlisted:!1,editUrl:"https://github.com/x-fer/natpro/edit/main/docs/algoritmi-nad-grafovima-1/union-find-struktura.md",tags:[],version:"current",frontMatter:{title:"Union-find struktura"},sidebar:"materijaliSidebar",previous:{title:"Najkra\u0107i putovi",permalink:"/docs/algoritmi-nad-grafovima-1/najkraci-putovi"},next:{title:"MST",permalink:"/docs/algoritmi-nad-grafovima-1/mst"}},m={},d=[{value:"Zadatak",id:"zadatak",level:3},{value:"Struktura",id:"struktura",level:2},{value:"Implementacija",id:"implementacija",level:2}];function o(a){const s={a:"a",annotation:"annotation",code:"code",div:"div",em:"em",h2:"h2",h3:"h3",li:"li",math:"math",mi:"mi",mn:"mn",mrow:"mrow",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.A,{authorName:"Maja Milas",githubUsername:"javascript-m"}),"\n",(0,n.jsx)(s.h3,{id:"zadatak",children:"Zadatak"}),"\n",(0,n.jsxs)(s.p,{children:["Zamislite da u nekoj zemlji postoji ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"n"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"n"})]})})]})," gradova i ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"m"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"m"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"m"})]})})]})," cesta koje ih povezuju, a u svakom gradu na po\u010detku \u017eivi ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"x"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"x"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"})]})})]})," ljudi. Tijekom vremena, neke ceste postaju nestabilne i uru\u0161avaju se. U tom svijetu provodite 2 oblika queryja:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["D ",(0,n.jsx)(s.strong,{children:"K"})," - uru\u0161ila se cesta ",(0,n.jsx)(s.strong,{children:"K"})]}),"\n",(0,n.jsxs)(s.li,{children:["P ",(0,n.jsx)(s.strong,{children:"A x"})," - populacija ",(0,n.jsx)(s.strong,{children:"A"}),"-tog grada postala je ",(0,n.jsx)(s.strong,{children:"x"})]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Vi ste mladi nadobudni geograf i \u017eelite nakon svakog upita odgovoriti koji je broj stanovnika trenutno najnaseljenije regije. Regija je definirana kao podskup gradova u kojem se mo\u017ee do\u0107i cestom izme\u0111u bilo koja dva."}),"\n",(0,n.jsxs)(s.p,{children:["Ovaj je zadatak ovdje samo za ilustraciju, ali probajte malo razmisliti kako biste ga rije\u0161ili. Puni tekst problema mo\u017eete na\u0107i ",(0,n.jsx)(s.a,{href:"https://www.codechef.com/problems/ABROADS",children:"ovdje"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"struktura",children:"Struktura"}),"\n",(0,n.jsxs)(s.p,{children:["Union find (nekad i disjoint set) je struktura podataka koja elemente raspodjeljuje u ",(0,n.jsx)(s.strong,{children:"skupove"}),". Za dva skupa ka\u017eemo da su ",(0,n.jsx)(s.strong,{children:"disjunktni"})," (disjoint) ako ne postoji element koji pripada u oba skupa. Struktura je napravljena tako da svaki skup ima svoga predstavnika (representative), a elementi skupa su preko lanca povezani s predstavnikom. Na slici ispod su prikazana tri skupa, ",7,", ",5," i ",8,". Predstavnici skupova su redom 4, 5 i 2."]}),"\n",(0,n.jsx)("img",{src:"/img/algoritmi-nad-grafovima-1/uf1.png",alt:"union_find",width:"500"}),"\n",(0,n.jsx)(s.p,{children:"Predstavnike tako\u0111er mo\u017eemo gledati na razini lanca. Npr. re\u0107i \u0107emo da elementi 6 i 8 imaju za predstavnika element 3."}),"\n",(0,n.jsx)(s.p,{children:"Union find podr\u017eava dvije operacije:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsxs)(s.strong,{children:["unite(",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"a"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"a"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"a"})]})})]}),",",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"b"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"b"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"b"})]})})]}),")"]})," - operacija koja spaja skup koji sadr\u017ei element ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"a"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"a"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"a"})]})})]})," sa skupom koji sadr\u017ei element ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"b"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"b"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"b"})]})})]})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsxs)(s.strong,{children:["find(",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"x"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"x"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"})]})})]}),")"]})," - operacija koja tra\u017ei predstavnika skupa koji sadr\u017ei element ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"x"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"x"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"})]})})]})]}),"\n"]}),"\n",(0,n.jsx)(s.div,{children:(0,n.jsx)(s.p,{children:"Obje operacije rade u logaritamskoj slo\u017eenosti."})}),"\n",(0,n.jsxs)(s.p,{children:["Dva skupa mo\u017eemo spojiti tako da pove\u017eemo njihove predstavnike. Na slici ispod spojili smo skupove ",7," i ",8," tako da 2 postaje novi predstavnik, a skup koji u kona\u010dnici dobivamo je ",8,"."]}),"\n",(0,n.jsx)("img",{src:"/img/algoritmi-nad-grafovima-1/uf2.png",alt:"union_find2",width:"400"}),"\n",(0,n.jsxs)(s.p,{children:["Pokazuje se da je prilikom spajanja uvijek ",(0,n.jsx)(s.strong,{children:"efikasnije spajati manji skup na ve\u0107i"}),". Na taj je na\u010din na\u0161 skup vi\u0161e 'razgranat' i mo\u017eemo posti\u0107i logaritamsku slo\u017eenost pretra\u017eivanja."]}),"\n",(0,n.jsx)(s.h2,{id:"implementacija",children:"Implementacija"}),"\n",(0,n.jsxs)(s.p,{children:["Za ovu \u0107emo implementaciju koristiti 1D polje ",(0,n.jsx)(s.code,{children:"link"})," gdje \u0107e na i-tom mjestu pisati ",(0,n.jsx)(s.em,{children:"predstavnik i-tog elemenata"})," te polje ",(0,n.jsx)(s.code,{children:"len"})," gdje \u0107emo na mjestima na kojima su predstavnici pisati ",(0,n.jsx)(s.em,{children:"veli\u010dina skupa kojeg predstavljaju"}),". Na gornjoj bi slici bilo ",(0,n.jsx)(s.code,{children:"link[7]=4"})," i ",(0,n.jsx)(s.code,{children:"len[2]=7"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["Na po\u010detku svaki element pripada svom skupu pa je i sam svoj predstavnik. Duljina svih skupova je ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mn,{children:"1"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"1"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(s.span,{className:"mord",children:"1"})]})})]}),"."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-cpp",children:"for(int i=0; i<n; i++) link[i] = i;\nfor(int i=0; i<n; i++) len[i] = 1;\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Funkcija ",(0,n.jsxs)(s.strong,{children:["find(",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"x"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"x"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"})]})})]}),")"]})," vra\u0107a predstavnika skupa koji sadr\u017ei element ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"x"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"x"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"})]})})]}),". Pretra\u017eivanje obavljamo penjanjem po lancu dok ne do\u0111emo do predstavnika."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-cpp",children:"int find(int x) {\n    while(x != link[x]) x = link[x];\n    return x;\n}\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Mo\u017eemo napisati i funkciju ",(0,n.jsx)(s.strong,{children:"same(a,b)"})," koja provjerava jesu li dva elementa u istom skupu."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-cpp",children:"bool same(int a, int b) {\n    return find(a) == find(b);\n}\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Funkcija ",(0,n.jsxs)(s.strong,{children:["unite(",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"a"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"a"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"a"})]})})]}),",",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"b"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"b"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"b"})]})})]}),")"]})," spaja skupove koji sadr\u017ee element ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"a"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"a"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"a"})]})})]})," i element ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"b"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"b"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"b"})]})})]}),". Prvo nalazimo njihove predstavnike i provjeravamo koji je skup manji, a potom spajamo manji skup na ve\u0107i."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-cpp",children:"void unite(int a, int b) {\n    a = find(a);\n    b = find(b);\n    if(len[a] < len[b]) swap(a,b);\n    len[a] += len[b];\n    link[b] = a;\n}\n"})}),"\n",(0,n.jsx)(s.p,{children:"Poku\u0161ajte sada sami napisati kod koji bi rje\u0161avao problem s po\u010detka lekcije. Happy coding!"})]})}function h(a={}){const{wrapper:s}={...(0,i.R)(),...a.components};return s?(0,n.jsx)(s,{...a,children:(0,n.jsx)(o,{...a})}):o(a)}},6749:(a,s,e)=>{e.d(s,{A:()=>i});e(6540);var n=e(4848);const i=a=>{let{authorName:s,githubUsername:e}=a;return(0,n.jsxs)("div",{className:"author",children:["Autor: ",(0,n.jsx)("a",{target:"_blank",href:"https://github.com/"+e,children:s})]})}},8453:(a,s,e)=>{e.d(s,{R:()=>l,x:()=>r});var n=e(6540);const i={},t=n.createContext(i);function l(a){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof a?a(s):{...s,...a}}),[s,a])}function r(a){let s;return s=a.disableParentContext?"function"==typeof a.components?a.components(i):a.components||i:l(a.components),n.createElement(t.Provider,{value:s},a.children)}},9630:(a,s,e)=>{e.d(s,{A:()=>l});var n=e(6540),i=e(4848);const{useState:t}=n,l=a=>{let{text:s}=a;const[e,n]=t(!1);return(0,i.jsx)("span",{onClick:()=>n(!e),className:"react-spoiler-"+(e?"shown":"hidden"),children:s})}}}]);